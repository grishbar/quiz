{"ast":null,"code":"var _jsxFileName = \"/Users/Gregory/projects/quiz/src/components/Candlestick.js\";\nimport React from 'react';\nimport { AbstractSeries } from 'index';\nconst predefinedClassName = 'rv-xy-plot__series rv-xy-plot__series--candlestick';\n\nclass CandlestickSeries extends AbstractSeries {\n  render() {\n    const {\n      className,\n      data,\n      marginLeft,\n      marginTop\n    } = this.props;\n\n    if (!data) {\n      return null;\n    }\n\n    const xFunctor = this._getAttributeFunctor('x');\n\n    const yFunctor = this._getAttributeFunctor('y');\n\n    const strokeFunctor = this._getAttributeFunctor('stroke') || this._getAttributeFunctor('color');\n\n    const fillFunctor = this._getAttributeFunctor('fill') || this._getAttributeFunctor('color');\n\n    const opacityFunctor = this._getAttributeFunctor('opacity');\n\n    const distance = Math.abs(xFunctor(data[1]) - xFunctor(data[0])) * 0.2;\n    return React.createElement(\"g\", {\n      className: `${predefinedClassName} ${className}`,\n      transform: `translate(${marginLeft},${marginTop})`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, data.map((d, i) => {\n      const xTrans = xFunctor(d); // Names of values borrowed from here https://en.wikipedia.org/wiki/Candlestick_chart\n\n      const yHigh = yFunctor({ ...d,\n        y: d.yHigh\n      });\n      const yOpen = yFunctor({ ...d,\n        y: d.yOpen\n      });\n      const yClose = yFunctor({ ...d,\n        y: d.yClose\n      });\n      const yLow = yFunctor({ ...d,\n        y: d.yLow\n      });\n      const lineAttrs = {\n        stroke: strokeFunctor && strokeFunctor(d)\n      };\n      const xWidth = distance * 2;\n      return React.createElement(\"g\", {\n        transform: `translate(${xTrans})`,\n        opacity: opacityFunctor ? opacityFunctor(d) : 1,\n        key: i,\n        onClick: e => this._valueClickHandler(d, e),\n        onMouseOver: e => this._valueMouseOverHandler(d, e),\n        onMouseOut: e => this._valueMouseOutHandler(d, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"line\", Object.assign({\n        x1: -xWidth,\n        x2: xWidth,\n        y1: yHigh,\n        y2: yHigh\n      }, lineAttrs, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      })), React.createElement(\"line\", Object.assign({\n        x1: 0,\n        x2: 0,\n        y1: yHigh,\n        y2: yLow\n      }, lineAttrs, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      })), React.createElement(\"line\", Object.assign({\n        x1: -xWidth,\n        x2: xWidth,\n        y1: yLow,\n        y2: yLow\n      }, lineAttrs, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      })), React.createElement(\"rect\", {\n        x: -xWidth,\n        width: Math.max(xWidth * 2, 0),\n        y: yOpen,\n        height: Math.abs(yOpen - yClose),\n        fill: fillFunctor && fillFunctor(d),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }));\n    }));\n  }\n\n}\n\nCandlestickSeries.displayName = 'CandlestickSeries';\nexport default CandlestickSeries;","map":{"version":3,"sources":["/Users/Gregory/projects/quiz/src/components/Candlestick.js"],"names":["React","AbstractSeries","predefinedClassName","CandlestickSeries","render","className","data","marginLeft","marginTop","props","xFunctor","_getAttributeFunctor","yFunctor","strokeFunctor","fillFunctor","opacityFunctor","distance","Math","abs","map","d","i","xTrans","yHigh","y","yOpen","yClose","yLow","lineAttrs","stroke","xWidth","e","_valueClickHandler","_valueMouseOverHandler","_valueMouseOutHandler","max","displayName"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport {AbstractSeries} from 'index';\n\nconst predefinedClassName =\n  'rv-xy-plot__series rv-xy-plot__series--candlestick';\n\nclass CandlestickSeries extends AbstractSeries {\n  render() {\n    const {className, data, marginLeft, marginTop} = this.props;\n    if (!data) {\n      return null;\n    }\n\n    const xFunctor = this._getAttributeFunctor('x');\n    const yFunctor = this._getAttributeFunctor('y');\n    const strokeFunctor =\n      this._getAttributeFunctor('stroke') || this._getAttributeFunctor('color');\n    const fillFunctor =\n      this._getAttributeFunctor('fill') || this._getAttributeFunctor('color');\n    const opacityFunctor = this._getAttributeFunctor('opacity');\n\n    const distance = Math.abs(xFunctor(data[1]) - xFunctor(data[0])) * 0.2;\n\n    return (\n      <g\n        className={`${predefinedClassName} ${className}`}\n        transform={`translate(${marginLeft},${marginTop})`}\n      >\n        {data.map((d, i) => {\n          const xTrans = xFunctor(d);\n          // Names of values borrowed from here https://en.wikipedia.org/wiki/Candlestick_chart\n          const yHigh = yFunctor({...d, y: d.yHigh});\n          const yOpen = yFunctor({...d, y: d.yOpen});\n          const yClose = yFunctor({...d, y: d.yClose});\n          const yLow = yFunctor({...d, y: d.yLow});\n\n          const lineAttrs = {\n            stroke: strokeFunctor && strokeFunctor(d)\n          };\n\n          const xWidth = distance * 2;\n          return (\n            <g\n              transform={`translate(${xTrans})`}\n              opacity={opacityFunctor ? opacityFunctor(d) : 1}\n              key={i}\n              onClick={e => this._valueClickHandler(d, e)}\n              onMouseOver={e => this._valueMouseOverHandler(d, e)}\n              onMouseOut={e => this._valueMouseOutHandler(d, e)}\n            >\n              <line\n                x1={-xWidth}\n                x2={xWidth}\n                y1={yHigh}\n                y2={yHigh}\n                {...lineAttrs}\n              />\n              <line x1={0} x2={0} y1={yHigh} y2={yLow} {...lineAttrs} />\n              <line\n                x1={-xWidth}\n                x2={xWidth}\n                y1={yLow}\n                y2={yLow}\n                {...lineAttrs}\n              />\n              <rect\n                x={-xWidth}\n                width={Math.max(xWidth * 2, 0)}\n                y={yOpen}\n                height={Math.abs(yOpen - yClose)}\n                fill={fillFunctor && fillFunctor(d)}\n              />\n            </g>\n          );\n        })}\n      </g>\n    );\n  }\n}\n\nCandlestickSeries.displayName = 'CandlestickSeries';\n\nexport default CandlestickSeries;"]},"metadata":{},"sourceType":"module"}